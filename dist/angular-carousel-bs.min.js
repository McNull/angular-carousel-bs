!function(e){"use strict";var n=e.module("angular-carousel-bs",["ngAnimate"]);n.factory("carouselService",["$interval",function(n){function i(i){var t=this;t._id=i,t._refCount=1,t.addRef=function(){t._refCount+=1},t.release=function(){--t._refCount||delete s[t._id]},this._slides=[],this._activeIndex=0,this._interval={delay:0},this.addSlide=function(e){return e=e||{},t._slides.push(e),e},this.removeSlide=function(n){var i;i=e.isNumber(n)?n>=0&&n<t._slides.length?n:-1:t._slides.indexOf(n),i!==-1&&(t._slides.splice(i,1),t._activeIndex>=t._slides.length&&t.activeIndex(t._slides.length-1))},this.isActive=function(e){return t._slides[t._activeIndex]===e},this.activeIndex=function(n){return e.isNumber(n)&&(t._slides.length>0?n<0?(n=Math.abs(n)%t._slides.length,n=t._slides.length-n):n>0&&n>=t._slides.length&&(n%=t._slides.length):n=0,n!==t._activeIndex&&(!(n<t._activeIndex||0===t._activeIndex&&n===t._slides.length-1)||t._activeIndex===t._slides.length-1&&0===n?t._direction="right":t._direction="left",t._activeIndex=n)),t._activeIndex},this.setActive=function(e){t.activeIndex(t.getIndex(e))},this.getIndex=function(e){return t._slides.indexOf(e)},this.next=function(){var e=t._activeIndex+1;t.activeIndex(e)},this.prev=function(){var e=t._activeIndex-1;t.activeIndex(e)},this.interval=function(i){return e.isNumber(i)&&(t._interval.delay=i,t._interval.promise&&(n.cancel(t._interval.promise),delete t._interval.promise),i>0&&(t._interval.promise=n(function(){t.next()},i))),t._interval.delay},this.pause=function(){t.paused=!0,t._interval.promise&&(n.cancel(t._interval.promise),delete t._interval.promise)},this.resume=function(){t.paused=!1,t.interval(t._interval.delay)}}var s={};return{get:function(e,n){return e=e||"carousel-"+Date.now(),s[e]||(s[e]=new i(e)),n&&n.$on("$destroy",function(){s[e].release()}),s[e]}}}]),n.directive("carousel",["carouselService",function(n){return{scope:{activeIndex:"=?",carousel:"=?",interval:"=?"},restrict:"AE",templateUrl:"/src/angular-carousel-bs/carousel.ng.html",controller:function(){},transclude:!0,link:{pre:function(i,s,t){var l=t.id,a=n.get(l,i);s.data("$carousel",a),i.carousel=a,i.$watch("activeIndex",function(e,n){e!==n&&a.activeIndex(e)}),i.$watch(function(){return a.activeIndex()},function(e){i.activeIndex=e}),i.$watch("interval",function(n,i){n=n&&e.isNumber(n)?n:0,a.interval(parseInt(n))})}}}}]),n.directive("carouselSlide",function(){return{scope:{slide:"=?carouselSlide"},replace:!0,restrict:"AE",templateUrl:"/src/angular-carousel-bs/slide.ng.html",transclude:!0,require:"^carousel",link:function(e,n,i){var s=n.inheritedData("$carousel");e.slide=s.addSlide(e.slide||{}),e.$on("$destroy",function(){s.removeSlide(e.slide)}),e.carousel=s}}})}(angular),angular.module("angular-carousel-bs").run(["$templateCache",function(e){e.put("./src/angular-carousel-bs/carousel.ng.html",'<div class="carousel carousel-bs slide {{carousel._direction}}" ng-mouseenter="carousel.pause()" ng-mouseleave="carousel.resume()"><div class="carousel-inner" role="listbox" ng-transclude=""></div><div ng-if="carousel._slides.length > 1"><ol class="carousel-indicators"><li ng-repeat="slide in carousel._slides" ng-class="{ \'active\': carousel.isActive(slide) }" ng-click="carousel.setActive(slide)"></li></ol><a class="left carousel-control" role="button" ng-click="carousel.prev()"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a><a class="right carousel-control" role="button" ng-click="carousel.next()"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span></a></div></div>'),e.put("./src/angular-carousel-bs/slide.ng.html",'<div class="item" ng-transclude="" ng-class="{ active: carousel.isActive(slide) }"></div>')}]);