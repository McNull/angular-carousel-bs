!function(e){"use strict";var t=e.module("angular-carousel-bs",["ngAnimate"]);t.factory("carouselService",["$interval","$timeout","$q",function(t,s,i){function n(n){var r=this;r._id=n,r._refCount=1,r.addRef=function(){r._refCount+=1},r.release=function(){--r._refCount||delete l[r._id]},this._slides=[],this._activeIndex=this._activeIndexDelayed=0,this._interval={delay:0},this.addSlide=function(e){return e=e||{},r._slides.push(e),e},this.removeSlide=function(t){var s,n=i.defer();return s=e.isNumber(t)?t>=0&&t<r._slides.length?t:-1:r._slides.indexOf(t),s!==-1?(r._activeIndex>=r._slides.length-1&&r.activeIndex(r._slides.length-2),r._slides.splice(s,1),n.resolve()):n.resolve(),n.promise},this.isActive=function(e){return r._slides[r._activeIndex]===e},this.isActiveDelayed=function(e){return r._slides[r._activeIndexDelayed]===e},this._setActiveIndexDelayed=function(e,t){r._setActiveIndexDelayed._progress&&s.cancel(r._setActiveIndexDelayed._progress),r._setActiveIndexDelayed._progress=s(function(){r._direction=t<0?"left":"right",e<r._slides.length&&(t=t||e-r._activeIndexDelayed,r._activeIndexDelayed=e),delete r._setActiveIndexDelayed._progress},300)},this.activeIndex=function(t,s){return e.isNumber(t)&&(r._slides.length>0?t<0?(t=Math.abs(t)%r._slides.length,t=r._slides.length-t):t>0&&t>=r._slides.length&&(t%=r._slides.length):t=0,r._activeIndex=t,r._setActiveIndexDelayed(t,s)),r._activeIndex},this.setActive=function(e,t){r.setActive._progress&&(s.cancel(r.setActive._progress),delete r.setActive._progress);var i=r.getIndex(e);if(i===-1){if(t)throw new Error("Cannot slide active; not part of the carousel.");r.setActive._progress=s(function(){r.setActive(e,!0),delete r.setActive._progress},250)}else r.activeIndex(i)},this.getIndex=function(e){return r._slides.indexOf(e)},this.next=function(){var e=r._activeIndex+1;r.activeIndex(e,1)},this.prev=function(){var e=r._activeIndex-1;r.activeIndex(e,-1)},this.interval=function(s){return e.isNumber(s)&&(r._interval.delay=s,r._interval.promise&&(t.cancel(r._interval.promise),delete r._interval.promise),s>0&&(r._interval.promise=t(function(){r.next()},s))),r._interval.delay},this.pause=function(){r.paused=!0,r._interval.promise&&(t.cancel(r._interval.promise),delete r._interval.promise)},this.resume=function(){r.paused=!1,r.interval(r._interval.delay)}}var l={};return{get:function(e,t){return e=e||"carousel-"+Date.now(),l[e]||(l[e]=new n(e)),t&&t.$on("$destroy",function(){l[e].release()}),l[e]}}}]),t.directive("carousel",["carouselService","$timeout",function(t,s){return{scope:{activeIndex:"=?",carousel:"=?",interval:"=?"},restrict:"AE",templateUrl:"./angular-carousel-bs/carousel.ng.html",controller:function(){},transclude:!0,link:{pre:function(e,s,i){var n=i.id,l=t.get(n,e);s.data("$carousel",l),e.carousel=l},post:function(t,s,i){t.activeIndex=t.activeIndex||0,t.$watch("activeIndex",function(e){t.carousel._activeIndex=e});t.$watch("carousel._activeIndex",function(e){t.activeIndex=e}),t.$watch("interval",function(s,i){s=s&&e.isNumber(s)?s:0,t.carousel.interval(parseInt(s))})}}}}]),t.directive("carouselSlide",function(){return{scope:{slide:"=?carouselSlide"},replace:!0,restrict:"AE",templateUrl:"./angular-carousel-bs/slide.ng.html",transclude:!0,require:"^carousel",link:{pre:function(e,t,s){var i=t.inheritedData("$carousel");e.slide=i.addSlide(e.slide||{}),e.$on("$destroy",function(){i.removeSlide(e.slide)}),e.carousel=i}}}})}(angular),angular.module("angular-carousel-bs").run(["$templateCache",function(e){e.put("./angular-carousel-bs/carousel.ng.html",'<div class="carousel carousel-bs slide {{carousel._direction}}" ng-mouseenter="carousel.pause()" ng-mouseleave="carousel.resume()"><div class="carousel-inner" role="listbox" ng-transclude=""></div><div ng-if="carousel._slides.length > 1"><ol class="carousel-indicators"><li ng-repeat="slide in carousel._slides" ng-class="{ \'active\': carousel.isActive(slide) }" ng-click="carousel.setActive(slide)"></li></ol><a class="left carousel-control" role="button" ng-click="carousel.prev()"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a><a class="right carousel-control" role="button" ng-click="carousel.next()"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span></a></div></div>'),e.put("./angular-carousel-bs/slide.ng.html",'<div class="item" ng-transclude="" ng-class="{ active: carousel.isActiveDelayed(slide) }"></div>')}]);