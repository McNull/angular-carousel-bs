!function(e){"use strict";var t=e.module("angular-carousel-bs",["ngAnimate"]);t.factory("carouselService",["$interval","$timeout","$q","$rootScope",function(t,i,n,s){function r(n){var r=this;r._id=n,r._refCount=0,r._listeners=[],r.addRef=function(){r._refCount+=1},r.release=function(){if(--r._refCount<=0){for(var e=r._listeners.length;--e>=0;)r._listeners[e]();delete a[r._id]}},this._slides=[],this.activeIndex=this._activeIndexDelayed=0,this._interval={delay:0},this.addSlide=function(e){return e=e||{},r._slides.push(e),e},this.removeSlide=function(t){var i;i=e.isNumber(t)?t>=0&&t<r._slides.length?t:-1:r._slides.indexOf(t),i!==-1&&(r._slides.splice(i,1),r.activeIndex=r.wrapIndex(r.activeIndex),i===r.activeIndex?r._direction="right":r._forceDirection=-1)},this.isActive=function(e){return r._slides[r.activeIndex]===e},this.isActiveDelayed=function(e){return r._slides[r._activeIndexDelayed]===e},this._setActiveIndexDelayed=function(e,t){r._setActiveIndexDelayed._progress&&i.cancel(r._setActiveIndexDelayed._progress),r._setActiveIndexDelayed._progress=i(function(){t=t||e-r._activeIndexDelayed,r._direction=t<0?"left":"right",r._activeIndexDelayed=e,delete r._setActiveIndexDelayed._progress},300)},this.wrapIndex=function(e){return r._slides.length>0?e<0?(e=Math.abs(e)%r._slides.length,e=r._slides.length-e):e>0&&e>=r._slides.length&&(e%=r._slides.length):e=0,e},this._listeners.push(s.$watch(function(){return r.activeIndex},function(e,t){r._setActiveIndexDelayed(e,r._forceDirection),delete r._forceDirection})),this.setActive=function(e,t){r.setActive._progress&&(i.cancel(r.setActive._progress),delete r.setActive._progress);var n=r.getIndex(e);if(n===-1){if(t)throw new Error("Cannot slide active; not part of the carousel.");r.setActive._progress=i(function(){r.setActive(e,!0),delete r.setActive._progress},250)}else r.activeIndex=n},this.getIndex=function(e){return r._slides.indexOf(e)},this.next=function(){var e=r.activeIndex+1;e=r.wrapIndex(e),r.activeIndex=e,r._forceDirection=1},this.prev=function(){var e=r.activeIndex-1;e=r.wrapIndex(e),r.activeIndex=e,r._forceDirection=-1},this.interval=function(i){return e.isNumber(i)&&(r._interval.delay=i,r._interval.promise&&(t.cancel(r._interval.promise),delete r._interval.promise),i>0&&(r._interval.promise=t(function(){r.next()},i))),r._interval.delay},this.pause=function(){r.paused=!0,r._interval.promise&&(t.cancel(r._interval.promise),delete r._interval.promise)},this.resume=function(){r.paused=!1,r.interval(r._interval.delay)}}var a={};return{get:function(e,t){return e=e||"carousel-"+Date.now(),a[e]||(a[e]=new r(e)),t&&(a[e].addRef(),t.$on("$destroy",function(){a[e].release()})),a[e]}}}]),t.directive("carousel",["carouselService","$timeout",function(t,i){return{scope:{activeIndex:"=?",carousel:"=?",interval:"=?"},restrict:"AE",templateUrl:"./angular-carousel-bs/carousel.ng.html",controller:function(){},transclude:!0,link:{pre:function(e,i,n){var s=n.id,r=t.get(s,e);i.data("$carousel",r),e.carousel=r},post:function(t,i,n){t.activeIndex=t.activeIndex||0,t.carousel._activeIndexDelayed=t.activeIndex,t.$watch("activeIndex",function(e){t.carousel.activeIndex=e}),t.$watch("carousel.activeIndex",function(e){t.activeIndex=e}),t.$watch("interval",function(i){i=i&&e.isNumber(i)?i:0,t.carousel.interval(parseInt(i))})}}}}]),t.directive("carouselSlide",function(){return{scope:{slide:"=?carouselSlide"},replace:!0,restrict:"AE",templateUrl:"./angular-carousel-bs/slide.ng.html",transclude:!0,require:"^carousel",link:{pre:function(e,t,i){var n=t.inheritedData("$carousel");e.slide=n.addSlide(e.slide||{}),e.$on("$destroy",function(){n.removeSlide(e.slide)}),e.carousel=n}}}})}(angular),angular.module("angular-carousel-bs").run(["$templateCache",function(e){e.put("./angular-carousel-bs/carousel.ng.html",'<div class="carousel carousel-bs slide {{carousel._direction}}" ng-mouseenter="carousel.pause()" ng-mouseleave="carousel.resume()"><div class="carousel-inner" role="listbox" ng-transclude=""></div><div ng-if="carousel._slides.length > 1"><ol class="carousel-indicators"><li ng-repeat="slide in carousel._slides" ng-class="{ \'active\': carousel.isActive(slide) }" ng-click="carousel.setActive(slide)"></li></ol><a class="left carousel-control" role="button" ng-click="carousel.prev()"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a><a class="right carousel-control" role="button" ng-click="carousel.next()"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span></a></div></div>'),e.put("./angular-carousel-bs/slide.ng.html",'<div class="item" ng-transclude="" ng-class="{ active: carousel.isActiveDelayed(slide) }"></div>')}]);